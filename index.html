<!doctype html>
<html lang="es" data-theme="elegant">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <meta name="theme-color" content="#0d0d0d">
  <title>Invitaci√≥n ‚Ä¢ Derian Hernandez 30 a√±os</title>
  <meta name="description" content="Invitaci√≥n a Derian Hernandez 30 a√±os - Minimalista">
  <style>
    /* ====== Reset & Base ====== */
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    html{scroll-behavior:smooth}
    body{
      margin:0; font-family: system-ui,-apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial;
      color:var(--fg);
      background:
        radial-gradient(1200px 800px at 10% 10%, var(--bg2), transparent 60%),
        radial-gradient(1000px 600px at 90% 30%, var(--bg3), transparent 60%),
        linear-gradient(180deg, var(--bg), #0a0a0a 60%, #080808);
      overflow-x:hidden;
    }
    :root{
      /* Galaxy (base) */
      --bg:#0b0b16; --bg2:#13132a; --bg3:#0f0f22; --fg:#f8faff; --muted:#c9c9d6;
      --accent:#8aa7ff; --accent2:#ffc46b; --ok:#2dd4bf; --warn:#f59e0b; --danger:#ef4444; --card:#101020aa;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    html[data-theme="elegant"]{
      --bg:#0d0d0d; --bg2:#141414; --bg3:#0f0f0f; --fg:#f6f1e9; --muted:#e0d6c8;
      --accent:#c7a86c; --accent2:#ffe7b3; --card:#111111aa;
    }

    /* Tipograf√≠a fluida */
    h1{font-size:clamp(2rem,6vw,4rem); line-height:1.05; margin:.2rem 0}
    h2{font-size:clamp(1.25rem,3.5vw,2rem); margin:.5rem 0}
    p, label, input, select, textarea, button, small{font-size:clamp(.98rem,2.6vw,1.05rem)}
    .muted{color:var(--muted)}
    .accent{color:var(--accent)}
    .accent2{color:var(--accent2)}

    /* Layout */
    .wrap{position:relative; min-height:100%; display:flex; flex-direction:column}
    header{position:relative; padding:min(7vh,56px) 16px 24px; text-align:center}
    .hero{max-width:1000px; margin:0 auto; padding:0 16px;}
    .kicker{letter-spacing:.12em; text-transform:uppercase; color:var(--accent2)}
    .card{
      background:var(--card); border:1px solid rgba(255,255,255,.08);
      backdrop-filter: blur(10px); border-radius:20px; box-shadow:var(--shadow);
    }

    /* Fondo part√≠culas */
    .sky{position:fixed; inset:0; overflow:hidden; z-index:-1; perspective:700px}
    .layer{position:absolute; inset:0; transform-style:preserve-3d}
    .particle{
      position:absolute; font-size:12px; opacity:.85; will-change:transform,opacity;
      animation:float linear infinite; filter: drop-shadow(0 2px 2px rgba(0,0,0,.3));
    }
    .particle::before{content:attr(data-char)}
    .particle[data-shape="dot"]{color:var(--accent2)}
    .particle[data-shape="star"]{color:var(--accent)}
    .particle[data-shape="diamond"]{color:#ffffffb0}
    @keyframes float{
      from{transform:translateY(110vh) translateZ(var(--z,0)) rotate(0); opacity:0}
      10%{opacity:.95}
      to{transform:translateY(-15vh) translateZ(var(--z,0)) rotate(360deg); opacity:0}
    }
    @media (prefers-reduced-motion: reduce){
      .particle{animation-duration:0s; opacity:.2}
    }

    /* Secciones */
    .grid{display:grid; gap:16px; grid-template-columns:1fr; padding:16px; max-width:1000px; width:100%; margin:0 auto}
    @media (min-width:880px){ .grid{grid-template-columns:1.2fr .8fr} }
    .section{padding:18px}
    .row{display:flex; gap:12px; align-items:center; flex-wrap:wrap}

    /* Countdown */
    .countdown{display:flex; gap:10px; justify-content:center; margin:16px 0}
    .tbox{
      min-width:74px; padding:10px 8px; text-align:center;
      background:linear-gradient(180deg, rgba(255,255,255,.08),rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.12); border-radius:14px
    }
    .tbox strong{font-size:clamp(1.4rem,5vw,2rem); display:block}
    .tbox span{font-size:.82em; color:var(--muted); letter-spacing:.06em}

    /* Botones */
    .actions{display:flex; flex-wrap:wrap; gap:10px; justify-content:center}
    .btn{
      display:inline-flex; align-items:center; gap:8px; padding:10px 14px;
      background:linear-gradient(180deg,var(--accent), color-mix(in srgb, var(--accent), #000 15%));
      color:#0b0b0b; border:none; border-radius:999px; font-weight:700; cursor:pointer;
      box-shadow:0 6px 20px rgba(0,0,0,.35);
      transition: transform .15s ease, box-shadow .15s ease, opacity .2s ease;
      text-decoration:none
    }
    .btn:hover{transform:translateY(-1px); box-shadow:0 10px 28px rgba(0,0,0,.45)}
    .btn:active{transform:translateY(1px)}
    .btn.light{background:#ffffff1a; color:var(--fg); border:1px solid #ffffff27}
    .btn.warn{background:linear-gradient(180deg,var(--accent2), color-mix(in srgb, var(--accent2), #000 12%)); color:#221a00}

    /* Listado info */
    .info{display:grid; gap:10px}
    .info .item{display:flex; gap:10px; align-items:flex-start; padding:10px; border-radius:12px; background:#ffffff0d; border:1px solid #ffffff18}
    .icon{width:22px; height:22px; flex:0 0 22px; opacity:.9}

    /* Form */
    form{display:grid; gap:10px}
    input,select,textarea{
      width:100%; padding:10px 12px; border-radius:11px; border:1px solid #ffffff25;
      background:#ffffff12; color:var(--fg);
      outline:none; transition:border-color .15s ease, background .15s ease
    }
    input:focus,select:focus,textarea:focus{border-color:var(--accent)}
    .grid2{display:grid; gap:10px; grid-template-columns:1fr}
    @media (min-width:620px){ .grid2{grid-template-columns:1fr 1fr} }
    .help{font-size:.85em; color:var(--muted)}
    .ok{color:var(--ok)} .warn{color:var(--warn)} .danger{color:var(--danger)}

    /* Confetti */
    .confetti{position:fixed; inset:0; pointer-events:none; z-index:40}
    .confetti b{
      position:absolute; width:8px; height:12px; background:var(--accent);
      transform:translate(-50%,-50%) rotate(0); opacity:0; animation:pop .9s ease forwards;
    }
    .confetti b:nth-child(3n){background:var(--accent2)}
    .confetti b:nth-child(4n){background:#ffffff}
    @keyframes pop{
      0%{opacity:0; transform:translate(var(--x), var(--y)) rotate(0)}
      10%{opacity:1}
      100%{opacity:0; transform:translate(calc(var(--x) + var(--dx)), calc(var(--y) + var(--dy))) rotate(300deg)}
    }

    footer{padding:30px 16px 70px; text-align:center; color:var(--muted)}
  </style>
</head>
<body
  data-when="2025-10-11T20:00:00-05:00"
  data-name="Derian Hernandez"
  data-edad="30 a√±os"
  data-lugar="por definir"
  data-dir="por definir"
  data-wa="51988343240"  <!-- +51 Per√∫ sin s√≠mbolos -->
>
  <!-- Fondo animado -->
  <div class="sky" aria-hidden="true">
    <div class="layer" id="layerA"></div>
    <div class="layer" id="layerB"></div>
    <div class="layer" id="layerC"></div>
  </div>

  <div class="wrap">
    <header>
      <div class="hero">
        <div class="kicker">¬°Est√°s invitad@!</div>
        <h1>Derian Hernandez <span class="accent">30 a√±os</span></h1>
        <h2 class="muted">Tema: <span class="accent2">Minimalista</span></h2>

        <!-- Countdown -->
        <div class="countdown" id="countdown" role="timer" aria-live="polite">
          <div class="tbox"><strong id="dd">--</strong><span>D√≠as</span></div>
          <div class="tbox"><strong id="hh">--</strong><span>Horas</span></div>
          <div class="tbox"><strong id="mm">--</strong><span>Min</span></div>
          <div class="tbox"><strong id="ss">--</strong><span>Seg</span></div>
        </div>

        <div class="actions" style="margin:12px 0 4px">
          <button class="btn" id="btnICS" type="button">üóìÔ∏è Agregar a Calendario</button>
          <a class="btn light" id="btnMaps" rel="noopener">üìç Ver en Maps</a>
          <button class="btn warn" id="btnShare" type="button">‚ú® Compartir</button>
        </div>
      </div>
    </header>

    <main class="grid" id="main">
      <!-- Columna izquierda: detalles -->
      <section class="card section">
        <h2>Detalles del evento</h2>
        <div class="info" style="margin-top:8px">
          <div class="item">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M7 2v3M17 2v3M3.5 9h17M5 7h14a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="1.6"/></svg>
            <div>
              <strong>Fecha y hora</strong>
              <div class="muted" id="humanWhen">‚Äî</div>
            </div>
          </div>
          <div class="item">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 2C7.6 2 4 5.6 4 10c0 5.3 6.6 11.5 7.4 12.2a1 1 0 0 0 1.2 0C13.4 21.5 20 15.3 20 10c0-4.4-3.6-8-8-8Zm0 10a2 2 0 1 1 0-4 2 2 0 0 1 0 4Z" stroke="currentColor" stroke-width="1.6"/></svg>
            <div>
              <strong>por definir</strong>
              <div class="muted">por definir</div>
            </div>
          </div>
          <div class="item">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 12h16M4 12c0-4.4 3.6-8 8-8s8 3.6 8 8M4 12c0 4.4 3.6 8 8 8s8-3.6 8-8" stroke="currentColor" stroke-width="1.6"/></svg>
            <div>
              <strong>Tem√°tica</strong>
              <div class="muted">Minimalista</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Columna derecha: RSVP (WhatsApp) -->
      <section class="card section">
        <h2>Confirma tu asistencia (RSVP)</h2>
        <form id="rsvpForm" autocomplete="on" novalidate>
          <div class="grid2">
            <div>
              <label>Nombre y apellido</label>
              <input name="name" placeholder="Tu nombre completo" required>
            </div>
            <div>
              <label>¬øAsistir√°s?</label>
              <select name="will" required>
                <option value="">Selecciona‚Ä¶</option>
                <option value="yes">S√≠, all√≠ estar√©</option>
                <option value="no">No podr√© ir</option>
              </select>
            </div>
          </div>

          <div class="grid2">
            <div>
              <label>Acompa√±antes</label>
              <select name="guests" id="guests">
                <option>0</option><option>1</option><option>2</option><option>3</option>
                <option>4</option><option>5</option><option>6</option><option>7</option>
                <option>8</option><option>9</option><option>10</option>
              </select>
              <div class="help">Incl√∫yete aparte. Ej: si vas con 2 personas m√°s, elige ‚Äú2‚Äù.</div>
            </div>
            <div>
              <label>Tel√©fono</label>
              <input name="phone" inputmode="tel" placeholder="Opcional">
            </div>
          </div>

          <div class="grid2">
            <div>
              <label>Email</label>
              <input name="email" type="email" placeholder="Opcional">
            </div>
            <div>
              <label>Notas / Restricciones</label>
              <input name="note" placeholder="Ej: vegetariano, alergias, mensaje para l@s anfitriones">
            </div>
          </div>

          <div class="row" style="justify-content:flex-start;margin-top:6px">
            <button class="btn" type="submit">‚úÖ Enviar por WhatsApp</button>
            <a class="btn light" id="btnWAblank">üí¨ Abrir WhatsApp</a>
          </div>
          <div id="rsvpMsg" class="help" role="status" aria-live="polite"></div>
        </form>
      </section>
    </main>

    <footer>
      <small>Hecho con ‚ù§Ô∏è ‚Ä¢ HTML puro ‚Ä¢ Sin librer√≠as externas</small>
    </footer>
  </div>

  <!-- Confetti -->
  <div class="confetti" id="confetti" aria-hidden="true"></div>

  <script>
  // ===== Utilidades =====
  const $ = (q,ctx=document)=>ctx.querySelector(q);
  const pad = n => n<10 ? '0'+n : ''+n;

  const body = document.body;
  const isoWhen = body.dataset.when; // 2025-10-11T20:00:00-05:00
  const place   = body.dataset.lugar || '';
  const addr    = body.dataset.dir   || '';
  const nameEv  = body.dataset.name  || '';
  const edadEv  = body.dataset.edad  || '';
  const waNum   = body.dataset.wa    || ''; // 51988...

  // ===== Part√≠culas minimalistas =====
  (function particles(){
    const chars = ['‚óÜ','‚óè','‚ú¶'];
    const layers = [$('#layerA'), $('#layerB'), $('#layerC')];
    const counts = [22, 18, 14];
    layers.forEach((layer, idx)=>{
      for(let i=0;i<counts[idx];i++){
        const el = document.createElement('i');
        el.className = 'particle';
        const ch = chars[Math.floor(Math.random()*chars.length)];
        el.dataset.char = ch;
        el.dataset.shape = (ch==='‚óè'?'dot': (ch==='‚óÜ'?'diamond':'star'));
        el.style.left = (Math.random()*100)+'vw';
        el.style.bottom = (-10 - Math.random()*30)+'vh';
        el.style.animationDuration = (18 + Math.random()*12) * (1 + idx*0.25) + 's';
        el.style.animationDelay = (Math.random()*10)+'s';
        el.style.fontSize = (10 + Math.random()*20) + 'px';
        el.style.setProperty('--z', (-120 + idx*60)+'px');
        layer.appendChild(el);
      }
    });
  })();

  // ===== Countdown y fecha legible =====
  (function countdown(){
    const target = new Date(isoWhen);
    const dd=$('#dd'), hh=$('#hh'), mm=$('#mm'), ss=$('#ss'), human=$('#humanWhen');
    try{
      const opts = { weekday:'long', year:'numeric', month:'long', day:'numeric', hour:'2-digit', minute:'2-digit' };
      human.textContent = target.toLocaleString('es-PE', opts);
    }catch(e){ human.textContent = target.toString(); }

    function tick(){
      const now = new Date();
      let diff = Math.max(0, target - now);
      const S=1000, M=60*S, H=60*M, D=24*H;
      const d = Math.floor(diff/D); diff%=D;
      const h = Math.floor(diff/H); diff%=H;
      const m = Math.floor(diff/M); diff%=M;
      const s = Math.floor(diff/S);
      dd.textContent = pad(d); hh.textContent = pad(h); mm.textContent = pad(m); ss.textContent = pad(s);
    }
    tick(); setInterval(tick, 1000);
  })();

  // ===== Acciones: Maps / Share / ICS =====
  (function actions(){
    // Maps (abre navegador o app si existe)
    const btnMaps = $('#btnMaps');
    const q = encodeURIComponent((place? (place+', '):'') + addr);
    btnMaps.href = 'https://www.google.com/maps?q=' + q;
    btnMaps.target = '_blank';

    // Share
    $('#btnShare')?.addEventListener('click', async ()=>{
      const title = `Invitaci√≥n ‚Ä¢ ${nameEv} ${edadEv}`;
      const text  = `¬°Acomp√°√±ame! ${nameEv} ${edadEv}\n${place} - ${addr}`;
      try{
        if (navigator.share){
          await navigator.share({title, text, url: location.href});
        } else {
          await navigator.clipboard.writeText(location.href);
          alert('Enlace copiado. ¬°Comp√°rtelo!');
        }
      }catch(e){}
    });

    // ICS: generar al vuelo y descargar
    $('#btnICS')?.addEventListener('click', ()=>{
      const start = new Date(isoWhen);
      const end = new Date(start.getTime() + 4*60*60*1000); // 4h
      function fmtUTC(d){
        const y=d.getUTCFullYear();
        const m=String(d.getUTCMonth()+1).padStart(2,'0');
        const dd=String(d.getUTCDate()).padStart(2,'0');
        const hh=String(d.getUTCHours()).padStart(2,'0');
        const mm=String(d.getUTCMinutes()).padStart(2,'0');
        const ss=String(d.getUTCSeconds()).padStart(2,'0');
        return `${y}${m}${dd}T${hh}${mm}${ss}Z`;
      }
      const SUMMARY = `Invitaci√≥n ‚Ä¢ ${nameEv} ${edadEv}`;
      const LOCATION= `${place}${place&&addr?', ':''}${addr}`;
      const DESCRIPTION = `Tema: Minimalista`;
      const ICS =
`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Invitacion HTML Pura//ES
CALSCALE:GREGORIAN
METHOD:PUBLISH
BEGIN:VEVENT
UID:${crypto.randomUUID ? crypto.randomUUID() : ('inv-'+Date.now())}@inv-html
DTSTAMP:${fmtUTC(new Date())}
DTSTART:${fmtUTC(start)}
DTEND:${fmtUTC(end)}
SUMMARY:${SUMMARY.replace(/[,;]/g,'')}
LOCATION:${LOCATION.replace(/[,;]/g,'')}
DESCRIPTION:${DESCRIPTION.replace(/[,;]/g,'')}
END:VEVENT
END:VCALENDAR`;
      const blob = new Blob([ICS], {type:'text/calendar;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'evento.ics';
      document.body.appendChild(a); a.click();
      setTimeout(()=>{ URL.revokeObjectURL(url); a.remove(); }, 1000);
    });
  })();

  // ===== RSVP por WhatsApp =====
  (function rsvp(){
    const form = $('#rsvpForm');
    const msg = $('#rsvpMsg');
    const waBlank = $('#btnWAblank');
    const confetti = $('#confetti');

    function blastConfetti(x, y){
      confetti.innerHTML=''; const N=120;
      const vw = Math.max(1, innerWidth), vh = Math.max(1, innerHeight);
      const cx = x ?? vw/2, cy = y ?? (vh*0.3);
      for(let i=0;i<N;i++){
        const b=document.createElement('b');
        const dx=(Math.random()*2-1)*(vw*.35);
        const dy=(Math.random()*2-0.2)*(vh*.45);
        b.style.setProperty('--x', cx+'px');
        b.style.setProperty('--y', cy+'px');
        b.style.setProperty('--dx', dx+'px');
        b.style.setProperty('--dy', dy+'px');
        confetti.appendChild(b);
      }
      setTimeout(()=>confetti.innerHTML='', 1100);
    }

    form?.addEventListener('submit', (e)=>{
      e.preventDefault();
      const name = form.name?.value?.trim() || '';
      const will = form.will?.value || '';
      const guests = form.guests?.value || '0';
      const phone = form.phone?.value?.trim() || '';
      const email = form.email?.value?.trim() || '';
      const note  = form.note?.value?.trim() || '';
      if (!name || !will){
        msg.textContent = 'Por favor completa tu nombre y si asistir√°s.';
        return;
      }
      let t = `Hola, soy ${name}.\n`;
      t += `RSVP: ${will==='yes'?'Asistir√© ‚úÖ':'No asistir√© ‚ùå'}\n`;
      t += `Acompa√±antes: ${guests}\n`;
      if (phone) t += `Tel: ${phone}\n`;
      if (email) t += `Email: ${email}\n`;
      if (note)  t += `Notas: ${note}\n`;
      t += `Evento: ${nameEv} ${edadEv}\n${place} - ${addr}\n`;
      t += `Fecha: ${new Date(isoWhen).toLocaleString('es-PE',{dateStyle:'full', timeStyle:'short'})}`;

      const url = `https://wa.me/${waNum}?text=${encodeURIComponent(t)}`;
      window.open(url, '_blank');
      msg.innerHTML = '<span class="ok">¬°Gracias! Se abri√≥ WhatsApp para enviar tu confirmaci√≥n.</span>';
      blastConfetti();
      form.reset();
    });

    // Bot√≥n abrir chat vac√≠o (por si quieren escribir libremente)
    waBlank?.addEventListener('click', (e)=>{
      e.preventDefault();
      window.open(`https://wa.me/${waNum}`, '_blank');
    });
  })();
  </script>
</body>
</html>
